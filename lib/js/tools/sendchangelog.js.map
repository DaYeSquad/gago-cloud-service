{"version":3,"sources":["../src/tools/sendchangelog.ts"],"names":[],"mappings":";AAGA,6BAA6B;AAC7B,kEAA6D;AAG7D,MAAM,WAAW,GAAa,CAAC,oBAAoB,CAAC,CAAC;AAErD,MAAM,WAAW,GAAQ,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC;AACjE,MAAM,cAAc,GAAW,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;AAE3D,MAAM,gBAAgB,GAAW,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAEhE,mCAAgB,CAAC,aAAa,CAAC,WAAW,EAAE,SAAS,EAAE,OAAO,cAAc,OAAO,EAAE,gBAAgB,EACnG,4BAA4B,CAAC,CAAC,IAAI,CAAC,CAAC,SAAiB;IACrD,OAAO,CAAC,GAAG,CAAC,4CAA4C,SAAS,EAAE,CAAC,CAAC;AACvE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK;IACb,OAAO,CAAC,GAAG,CAAC,mCAAmC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;AAClE,CAAC,CAAC,CAAC","file":"sendchangelog.js","sourcesContent":["// Copyright 2016 Frank Lin (lin.xiaoe.f@gmail.com). All rights reserved.\n// Use of this source code is governed a license that can be found in the LICENSE file.\n\nimport * as path from 'path';\nimport {BaseEmailService} from '../service/baseemailservice';\n\n\nconst toAddresses: string[] = ['back@gagogroup.com'];\n\nconst packageJson: any = require(path.resolve('./package.json'));\nconst currentVersion: string = String(packageJson.version);\n\nconst dataSourceMdPath: string = path.resolve('./CHANGELOG.md');\n\nBaseEmailService.sendChangelog(toAddresses, '基础库更新提醒', `gcs ${currentVersion} 更新提示`, dataSourceMdPath,\n  '/tmp/cloud-service.version').then((requestId: string) => {\n  console.log(`Send change log successes, request id is ${requestId}`);\n}).catch((error) => {\n  console.log(`Send change log fails, error is ${error.message}`);\n});\n"]}